<article>
    <h1 id="title">{{title}}</h1>
    <div class="infos secondary">{{info}}</div>
    {{body}}
    <script>
        const desiredScrollPosition = JSON.parse(sessionStorage.getItem('scrollTo'));
        console.log('scrollTo=' + desiredScrollPosition);
        sessionStorage.removeItem('scrollTo');
        window.scrollTo(window.scrollX, desiredScrollPosition);
    </script>
</article>

<footer class="secondary" style="margin-top: 2em;">

    <!-- Shortlink -->
    <script>
        const shortlink = "mgar.us/{{key}}";
        async function copyShortlink() {
            await navigator.clipboard.writeText(shortlink);

            let confirmationText = " Copied! ";
            while (confirmationText.length < shortlink.length) {
                confirmationText = confirmationText + "-";
                if (confirmationText.length < shortlink.length) {
                    confirmationText = "-" + confirmationText;
                }
                console.log("Confirmation text is now " + confirmationText.length + " long.");
            }
            document.getElementById("shortlink").innerHTML = confirmationText;
        }
        function resetShortlink() {
            document.getElementById("shortlink").innerHTML = shortlink;
        }
    </script>
    <style>
        #shortlink {
            background-color: transparent;
            color: inherit;
            border: 0.1em solid #f97191;
            border-radius: 0.2em;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
        }
    </style>
    <span>You liked this article? Feel free to share it using this shortlink:</span>
    <button id="shortlink" title="Click to copy the shortlink" onclick="copyShortlink()"
        onmouseout="resetShortlink()">mgar.us/{{key}}</button>

    <!-- Suggested article -->
    <style>
        .suggestion-label {
            margin-left: 0;
            margin-right: 0;
        }
        
        .suggestion {
            font-size: 2em;
            text-decoration: none;
            color: var(--main-fg-color);
        }
        .suggestion:hover {
            text-decoration: underline;
        }
    </style>
    <p class="suggestion-label">Looking for another article? This one might be interesting:</p>
    <a href="/{{suggestion-key}}" class="suggestion">{{suggestion-title}}</a>

</footer>
