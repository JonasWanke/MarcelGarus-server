<article>
    <h1 id="title">{{title}}</h1>
    <div class="infos secondary">
        <span class="only-print">by Marcel Garus ·</span>
        <span>{{info}}</span>
        <span class="only-print"> · available at mgar.us/{{key}}</span>
    </div>
    {{body}}
    <script>
        const desiredScrollPosition = JSON.parse(sessionStorage.getItem('scrollTo'));
        sessionStorage.removeItem('scrollTo');
        if (typeof desiredScrollPosition === 'number') {
            window.scrollTo(window.scrollX, desiredScrollPosition);
        }
    </script>
</article>

<div class="card after-article-card only-screen">
    <script>
        const shortlink = "mgar.us/{{key}}";
        async function copyShortlink() {
            await navigator.clipboard.writeText(shortlink);

            let confirmationText = " Copied! ";
            while (confirmationText.length < shortlink.length) {
                confirmationText = confirmationText + "-";
                if (confirmationText.length < shortlink.length) {
                    confirmationText = "-" + confirmationText;
                }
                console.log("Confirmation text is now " + confirmationText.length + " long.");
            }
            document.getElementById("shortlink").innerHTML = confirmationText;
        }
        function resetShortlink() {
            document.getElementById("shortlink").innerHTML = shortlink;
        }
    </script>
    <style>
        #shortlink {
            background-color: transparent;
            color: inherit;
            border: 0.1em solid black;
            border-radius: 0.2em;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
        }
    </style>
    <p>Thanks for reading!</p>
    <p>
        <span>If you liked this article, feel free to share it using this shortlink:</span>
        <button id="shortlink" title="Click to copy the shortlink" onclick="copyShortlink()"
            onmouseout="resetShortlink()">mgar.us/{{key}}</button>
    </p>
    <p>
        By the way, I wrote other articles about {{topics}}.
        Here's an article I recommend:
    </p>
</div>

<div class="only-screen">
{{suggestion}}
</div>
